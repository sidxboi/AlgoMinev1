<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>APRIORI</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="static/img/favicon.ico" />
    <!-- Custom Google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      rel="stylesheet"
    />
    <!-- Bootstrap icons-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
  </head>
  <body class="d-flex flex-column h-100 bg-light">
    <main class="flex-shrink-0">
      <!-- Navigation-->
      <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container">
          <a class="navbar-brand" href="/"
            ><span class="fw-bolder text-primary">ALGOMINE</span></a
          >
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-lg-0 small fw-bolder">
              <li class="nav-item">
                <a class="nav-link" href="/">
                  <div class="badge bg-dark text-white">Home</div></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/algo.html">
                  <div class="badge bg-dark text-white">ALGO</div></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/">
                  <div class="badge bg-dark text-white">ABOUT</div></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="index.html">
                  <div class="badge bg-dark text-white">CONTACT</div></a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <section class="py-5">
        <div class="container px-5 my-5">
          <div class="text-center">
            <h1 class="display-5 fw-bolder mb-0">
              <span class="text-gradient d-inline">APRIORI</span>
            </h1>
          </div>
          <div class="text-center">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link active"
                  id="info-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#info-tab-pane"
                  type="button"
                  role="tab"
                  aria-controls="info-tab-pane"
                  aria-selected="true"
                >
                  Info
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="example-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#example-tab-pane"
                  type="button"
                  role="tab"
                  aria-controls="example-tab-pane"
                  aria-selected="false"
                >
                  Example
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="handson-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#handson-tab-pane"
                  type="button"
                  role="tab"
                  aria-controls="handson-tab-pane"
                  aria-selected="false"
                >
                  Hand on
                </button>
              </li>
            </ul>
            <div class="tab-content" id="myTabContent">
              <div
                class="tab-pane fade show active"
                id="info-tab-pane"
                role="tabpanel"
                aria-labelledby="info-tab"
                tabindex="0"
              >
                </div>
              </div>
              <div
                class="tab-pane fade"
                id="handson-tab-pane"
                role="tabpanel"
                aria-labelledby="handson-tab"
                tabindex="0"
              >
                <div class="card shadow mb-5">
                  <div class="card-body p-5">
                    <div class="container">
                      <div class="mb-3">
                        <h2>Demo Data Preview</h2>
                        <div class="preview-container bg-light p-3">
                          <div id="json-data">
                            <!-- JSON data will be inserted here -->
                          </div>
                          <div class="mb-3" id="previewButtons">
                            <div class="d-flex justify-content-center">
                              <button class="btn btn-info" id="previewButton" onclick="previewFile()">
                                Preview
                              </button>
                              <button class="btn btn-danger" id="closeButton" style="display: none" onclick="closePreview()">
                                Close Preview
                              </button>
                              <a class="btn btn-default" href="static/data/groceries_dataset.csv" download="demo_file.csv">
                                Download
                                <i class="fa fa-download" aria-hidden="true"></i>
                              </a>
                            </div>
                          </div>
                          

                    <div class="mb-5">
                      <form action="/algo_apriori.html" method="POST">
                        <div class="row form-group">
                          <div class="col-md-6">
                            <label for="min_support" class="form-label"
                              >Minimum Support:</label
                            >
                            <input
                              type="number"
                              step="0.01"
                              class="form-control"
                              name="min_support"
                              value="0.1"
                              min="0"
                              max="1"
                              required
                            />
                          </div>

                          <div class="col-md-6">
                            <label for="min_confidence" class="form-label"
                              >Minimum Confidence:</label
                            >
                            <input
                              type="number"
                              step="0.01"
                              class="form-control"
                              name="min_confidence"
                              value="0.5"
                              min="0"
                              max="1"
                              required
                            />
                          </div>
                          <div class="col-md-12">
                            <button type="submit" class="btn btn-primary mt-5">
                              Run Apriori Analysis
                            </button>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer class="bg-white py-4 mt-auto">
      <div class="container px-5">
        <div
          class="row align-items-center justify-content-between flex-column flex-sm-row"
        >
          <div class="col-auto">
            <div class="small m-0">Powered By &copy; ALGOMINE</div>
          </div>
        </div>
      </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <!-- Bootstrap core CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <!-- Bootstrap core JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      var previewShown = false;
    
      function displayJSONData(data, numRows) {
        var jsonDataDiv = $("#json-data");
        var table = $("<table>").addClass("table table-bordered");
        var thead = $("<thead>").appendTo(table);
        var headerRow = $("<tr>").appendTo(thead);
        for (var key in data[0]) {
          if (data[0].hasOwnProperty(key)) {
            $("<th>").text(key).appendTo(headerRow);
          }
        }
        var tbody = $("<tbody>").appendTo(table);
        // Display a limited number of rows
        for (var i = 0; i < numRows; i++) {
          var row = $("<tr>").appendTo(tbody);
          for (var key in data[i]) {
            if (data[i].hasOwnProperty(key)) {
              $("<td>").text(data[i][key]).appendTo(row);
            }
          }
        }
        // Insert the table into the HTML
        jsonDataDiv.empty().append(table);
      }
    
      function previewFile() {
        if (previewShown) {
          return;
        }
        var jsonFileUrl = "static/data/groceries_dataset.json"; // Replace with the correct path to your JSON file
        // Use jQuery's $.getJSON function to fetch the JSON data
        $.getJSON(jsonFileUrl, function (data) {
          // Limit the number of rows to display
          var numRowsToDisplay = 10; // Change this number to the desired limit
          // Display the JSON data in a table
          displayJSONData(data, numRowsToDisplay);
          // Show the close button
          $("#closeButton").show();
          // Hide the preview button
          $("#previewButton").hide();
          previewShown = true;
        }).fail(function () {
          console.log("Failed to load JSON data.");
        });
      }
    
      function closePreview() {
        previewShown = false;
        // Hide the close button
        $("#closeButton").hide();
        // Show the preview button
        $("#previewButton").show();
        // Clear the displayed JSON data
        $("#json-data").empty();
      }
    </script>
    
  </body>
</html>
